---
# Let Jekyll process Liquid in SCSS
---

@charset "utf-8";

/* ============================================================
   Minimal Mistakes: import SKIN, then override variables,
   THEN import the core. (Your overrides must come BEFORE core.)
   ============================================================ */
@import "minimal-mistakes/skins/{{ site.minimal_mistakes_skin | default: 'dark' }}";

/* ---------------------------
   Variable overrides (before core)
   --------------------------- */
$global-font-family: -apple-system, BlinkMacSystemFont, "Inter", "Segoe UI",
  Roboto, Helvetica, Arial, "Noto Sans", "Apple Color Emoji",
  "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;

$header-font-family: "Inter", "SF Pro Display", -apple-system, BlinkMacSystemFont,
  "Segoe UI", Roboto, Helvetica, Arial, sans-serif;

$content-width: 980px;         /* tighter than default for readability */
$max-width: 1240px;            /* cap extreme wides */
$right-sidebar-width: 290px;
$left-sidebar-width: 290px;

$paragraph-indent: false;
$paragraph-spacing: true;

$type-size-1 : 2.10em;         /* h1 */
$type-size-2 : 1.55em;         /* h2 */
$type-size-3 : 1.25em;         /* h3 */
$type-size-4 : 1.05em;         /* h4 */
$doc-font-size: 17px;          /* base */

$border-radius: 14px;

/* Primary palette (neutral, research-site feel) */
:root {
  --bg: #0c0d0e;
  --bg-elev: #121316;
  --card: rgba(255,255,255,0.06);
  --card-border: rgba(255,255,255,0.10);
  --text: #e7e9ee;
  --text-dim: #b7bcc7;
  --brand: #8ec7ff;          /* link/brand accent */
  --brand-2: #b9f2e6;        /* soft second accent */
  --link-underline: rgba(255,255,255,.35);
  --shadow: 0 10px 28px rgba(0,0,0,.28);
}

/* Optional light mode for readers who force light scheme */
@media (prefers-color-scheme: light) {
  :root {
    --bg: #ffffff;
    --bg-elev: #f7f9fc;
    --card: rgba(9,30,66,0.03);
    --card-border: rgba(9,30,66,0.10);
    --text: #1b1f2a;
    --text-dim: #4a5160;
    --brand: #1e88e5;
    --brand-2: #00897b;
    --link-underline: rgba(30,136,229,.45);
    --shadow: 0 10px 22px rgba(13, 27, 62, 0.10);
  }
}

@import "minimal-mistakes";

/* ============================================================
   Global foundation
   ============================================================ */

/* Background:
   - Keep image only on the home page for a crisp look elsewhere.
   - If you *always* want the image, move this under `body`.
*/
body.home,
body.layout--splash {
  background:
    linear-gradient(to bottom, rgba(0,0,0,.50) 0%, rgba(0,0,0,.10) 40%, rgba(0,0,0,.55) 100%),
    radial-gradient(60% 40% at 85% 10%, rgba(0,0,0,.45), rgba(0,0,0,0) 60%),
    url("{{ '/assets/images/wb.png' | relative_url }}")
    center / cover no-repeat fixed;
  background-color: var(--bg);
}

html, body { height: 100%; min-height: 100%; }
html { background: var(--bg) !important; }
body {
  color: var(--text);
  background-color: var(--bg);
  margin: 0;
  display: flex; flex-direction: column;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}

.initial-content { flex: 1 0 auto; }
.page__footer { flex-shrink: 0; margin: 0; background: rgba(255,255,255,.03); border-top: 1px solid var(--card-border); }

/* Content widths */
.wrapper { max-width: $max-width; }

/* Tighter, consistent vertical rhythm */
.page__content > * + * { margin-top: 0.9rem; }

/* Headings */
.page h1, .page h2, .page h3, .page h4 {
  letter-spacing: .2px;
  text-rendering: optimizeLegibility;
  font-family: $header-font-family;
}
.page h1 { margin-top: .2rem; margin-bottom: .6rem; }
.page h2 { margin-top: 1.4rem; margin-bottom: .5rem; }

/* Anchors on headings (clean, subtle) */
.page h1[id]::after, .page h2[id]::after, .page h3[id]::after {
  content: "ยง"; opacity: 0; margin-left: .35rem; font-weight: 400; color: var(--text-dim);
}
.page h1:hover::after, .page h2:hover::after, .page h3:hover::after { opacity: .6; }

/* Links */
.page a {
  color: var(--brand);
  text-decoration: none;
  transition: color .15s ease, text-decoration-color .15s ease, box-shadow .15s ease;
  box-shadow: inset 0 -1px 0 0 var(--link-underline);
}
.page a:hover {
  text-decoration: none;
  box-shadow: inset 0 -2px 0 0 var(--link-underline);
}

/* Code blocks */
.highlight, pre, code {
  border-radius: 10px;
}
pre { box-shadow: var(--shadow); }

/* Tables */
.page table {
  border-radius: 12px; overflow: hidden;
  box-shadow: var(--shadow);
}
.page table th, .page table td {
  border-color: var(--card-border);
}

/* ============================================================
   Masthead / Navigation
   ============================================================ */
.masthead, .greedy-nav {
  background: rgba(0,0,0,0) !important;
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  box-shadow: none !important;
}
.greedy-nav a, .site-title {
  color: var(--text) !important;
}
.greedy-nav a:hover { color: var(--brand) !important; }
.greedy-nav .visible-links a.current,
.greedy-nav .visible-links a:focus {
  color: var(--brand) !important;
  box-shadow: inset 0 -2px 0 0 var(--brand);
}
.masthead__inner-wrap { padding-top: .6rem; padding-bottom: .6rem; }

/* Hide text site title (use logo/brand in nav) if desired */
.site-title { display: none !important; }

/* ============================================================
   Page shells & cards
   ============================================================ */
.page,
.layout--single .page,
.layout--splash .page,
.archive,
.page__content { background: transparent !important; }

.layout--single .page .page__inner-wrap,
.archive > .page .page__inner-wrap {
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: $border-radius;
  box-shadow: var(--shadow);
  padding: 1.25rem 1.6rem;
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

/* Sidebars */
.sidebar,
.sidebar .sidebar__inner,
.author__content,
.author__urls-wrapper {
  background: rgba(255,255,255,.04) !important;
  border: 1px solid var(--card-border);
  border-radius: 12px;
  box-shadow: var(--shadow) !important;
}

/* Footer */
.page__footer { color: var(--text-dim); }

/* ============================================================
   Home hero & sections
   ============================================================ */
.home-hero {
  margin: 1rem 0 1.5rem;
  padding: 2.25rem 2rem;
  border-radius: 18px;
  background:
    radial-gradient(100% 140% at 100% 0%, rgba(255,255,255,.06), rgba(255,255,255,0) 60%),
    var(--card);
  border: 1px solid var(--card-border);
  box-shadow: var(--shadow);
  text-align: center;
}
.home-hero h1 { font-size: clamp(1.9rem, 2.6vw, 2.4rem); margin-bottom: .5rem; }
.home-hero p.lead { color: var(--text-dim); font-size: 1.05rem; margin: 0 auto; max-width: 720px; }

/* KPI / quick-links row */
.kpis {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem; margin-top: 1.2rem;
}
.kpi {
  background: rgba(255,255,255,.05);
  border: 1px solid var(--card-border);
  border-radius: 14px; padding: 1rem 1.2rem;
}
.kpi strong { display: block; font-size: 1.15rem; }
.kpi span { color: var(--text-dim); }

/* Generic section blocks */
.section {
  margin: 2rem 0 1.6rem;
  padding-top: .5rem;
  border-top: 1px dashed var(--card-border);
}
.section .section__title { margin: .6rem 0 1rem; }

/* ============================================================
   Cards (research highlights, news, etc.)
   ============================================================ */
.grid {
  display: grid; gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}
.card {
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: 16px;
  box-shadow: var(--shadow);
  padding: 1rem 1.1rem;
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 14px 34px rgba(0,0,0,.35);
  border-color: rgba(255,255,255,.18);
}
.card .card__title { font-size: 1.05rem; margin-bottom: .35rem; }
.card .card__meta { color: var(--text-dim); font-size: .92rem; }

/* Archive items (projects/publications list) */
.archive__item, .archive__item-teaser {
  background: transparent !important;
  box-shadow: none !important; border: 0 !important;
  padding: .6rem 0 !important;
}
.archive__item-title { font-size: 1.02rem; }
.archive__item-excerpt { color: var(--text-dim); }

/* Publication list with bullets & badges */
.pub-list {
  list-style: none; padding: 0; margin: 0;
}
.pub-list li {
  position: relative; padding-left: 1.1rem; margin: .65rem 0;
}
.pub-list li::before {
  content: "โข"; position: absolute; left: 0; color: var(--brand-2);
}
.badge {
  display: inline-block; font-size: .78rem; padding: .18rem .5rem;
  border-radius: 999px; border: 1px solid var(--card-border);
  background: rgba(255,255,255,.06); color: var(--text-dim);
  margin-left: .35rem;
}

/* Buttons */
.btn, .btn--primary, .btn--inverse, .btn--large {
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.16);
  box-shadow: 0 4px 12px rgba(0,0,0,.25);
  transition: transform .08s ease, box-shadow .15s ease, background-color .15s ease;
}
.btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 18px rgba(0,0,0,.28);
}
.btn--primary { background: rgba(255,255,255,.08); }
.btn--primary:hover { background: rgba(255,255,255,.14); }

/* ============================================================
   Utilities
   ============================================================ */
.text-dim { color: var(--text-dim) !important; }
.max-700 { max-width: 700px; }
.center { text-align: center; }
.mt-0 { margin-top: 0 !important; }
.mt-1 { margin-top: .35rem !important; }
.mt-2 { margin-top: .7rem !important; }
.mt-3 { margin-top: 1.1rem !important; }
.mb-0 { margin-bottom: 0 !important; }

/* Responsive tweaks */
@media (min-width: 1100px) {
  .page .page__inner-wrap { padding: 1.75rem 2rem; }
}
@media (max-width: 768px) {
  body.home, body.layout--splash { background-attachment: scroll; }
}

/* ============================================================
   Optional: remove the โbottom gapโ under footer
   ============================================================ */
.page, .page__content { margin-bottom: 0 !important; }
